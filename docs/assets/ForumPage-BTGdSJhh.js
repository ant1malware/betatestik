import{j as e}from"./index-djRqq5go.js";import{R as s,L as ue}from"./react-vendor-Bk42iPUi.js";import{S as me,V as fe,W as he,M as be,t as ge,j as Oe,Y as ve,b as _e,U as Ie,Z as $e,_ as ne,$ as Re}from"./icons-BXf6DyQO.js";const pe=800,ye=["–°–∫–∞–π-–°—Ç—Ä–∞–∂","–ü—Ä–∞–≤–æ-–°–∞–º—É—Ä–∞–π","–ü—É–ª—å—Å-–†–µ–π–¥–µ—Ä","–ö–∏–±–µ—Ä-–ú–µ–¥–∏–∫","–ù–µ–æ–Ω-–¢–∞–∫—Ç–∏–∫","–ê—Å—Ç—Ä–∞–ª-–û—Ñ–∏—Ü–µ—Ä","–§–∞–Ω—Ç–æ–º-–õ–µ—á–∞—â–∏–π","–®–∏—Ñ—Ä-–ò–Ω—Å–ø–µ–∫—Ç–æ—Ä","–ö–≤–∞–Ω—Ç-–ë–æ–µ—Ü","–ü–∏–∫—Å–µ–ª—å-–í–æ–ª–∫","–¢—É–º–∞–Ω-–ö–æ–º–∞–Ω–¥–æ—Ä","–ò—Å–∫—Ä–∞-–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å","–ù—É–ª—å-–ì—Ä–∞–≤–∏—Ç–∞—Ü–∏—è","–ü–æ–ª—è—Ä–Ω—ã–π –ü–∏–ª–æ—Ç","–ì–æ—Ä–æ–¥—Å–∫–æ–π –•–∏—Ä—É—Ä–≥","–°—ã–≤–æ—Ä–æ—Ç–∫–∞-Vibe","–°—Ç–µ—Ä–∏–ª—å–Ω—ã–π –ù–∏–Ω–¥–∑—è","–°–∫–∞–ª—å–ø–µ–ª—å-–û–±–ª–∞–∫–æ","–†–µ–Ω—Ç–≥–µ–Ω-–ü–∞–Ω–∫","–í–∞—Ç–∫–∞-Supreme"];function ee(){const n=ye[Math.floor(Math.random()*ye.length)],i=Math.floor(Math.random()*900+100);return`${n} ${i}`}function Te(n){try{return typeof n=="string"?JSON.parse(n):n instanceof ArrayBuffer?JSON.parse(new TextDecoder().decode(n)):(typeof Blob<"u"&&n instanceof Blob,null)}catch{return null}}function De(n){return new Date(n).toLocaleTimeString(void 0,{hour12:!1})}function Pe(n){return n.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ke(n){if(!n)return null;const i=n.trim();return i?`@${Pe(i).replace(/\s+/g,"\\s+")}(?=\\b|$)`:null}function ze(n,i){if(!i)return!1;try{return new RegExp(i,"iu").test(n)}catch{return!1}}function Fe(n,i){if(!i)return n;try{const o=new RegExp(i,"giu"),b=[];let m=0,E=0,f;for(;(f=o.exec(n))!==null;)f.index>m&&b.push(e.jsx(s.Fragment,{children:n.slice(m,f.index)},`text-${E++}`)),b.push(e.jsx("span",{className:"rc-ping",children:f[0]},`mention-${E++}`)),m=o.lastIndex;return m<n.length&&b.push(e.jsx(s.Fragment,{children:n.slice(m)},`text-${E++}`)),b.length?b:n}catch{return n}}const je=["üòÄ","üòÅ","üòÇ","ü§£","üòÖ","üòé","üòç","üòò","üòá","ü§ù","üëå","üëç","üî•","üíØ","‚ú®","‚ö°","üéØ","üöÄ","üõ°Ô∏è","üèÜ","üí¨","üìù","üìå","üì£","üóÇÔ∏è","üß†","üìà","üïí","üõ†Ô∏è","üîí","‚úÖ","‚ùó","‚ö†Ô∏è","‚ùì","üéâ","ü•≥","üôå","ü§ò","ü§ñ","üëÄ","üí°","üß≠","üì¶","üõéÔ∏è","üì°","üõ∞Ô∏è","üß™","üìï","üß∑","ü™™","üß∞","üß±","üõ∞","üóÉÔ∏è"],Be=String.raw`
.rc-wrap{border:1px solid var(--border);background:var(--surface);border-radius:var(--radius-2xl);overflow:hidden;font:13px/1.4 Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;box-shadow:var(--card-shadow);color:var(--text-1);}
.rc-head{padding:12px 16px;background:var(--bg-2);border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center;gap:16px;position:relative;}
.rc-head-title{font-weight:600;font-size:14px;letter-spacing:.08em;text-transform:uppercase;}
.rc-head-meta{display:flex;align-items:center;gap:12px;}
.rc-presence,.rc-presence-btn{display:flex;align-items:center;gap:8px;font-size:12px;letter-spacing:.04em;}
.rc-presence{color:var(--text-2);}
.rc-presence-dot{width:10px;height:10px;border-radius:999px;background:#ef4444;box-shadow:0 0 8px rgba(239,68,68,.3);transition:all .25s ease;}
.rc-presence-dot.on{background:#22c55e;box-shadow:0 0 8px rgba(34,197,94,.35);}
.rc-presence-count{display:flex;align-items:baseline;gap:4px;font-weight:600;color:var(--text-1);}
.rc-presence-count span{font-size:11px;font-weight:500;color:var(--text-2);text-transform:uppercase;}
.rc-presence-btn{border:1px solid var(--border);border-radius:999px;padding:6px 12px;background:var(--surface-2);color:var(--text-1);cursor:pointer;transition:background .2s ease,border-color .2s ease,box-shadow .2s ease,color .2s ease;}
.rc-presence-btn:hover,.rc-presence-btn:focus-visible{background:var(--surface);border-color:var(--accent);color:var(--accent);box-shadow:0 0 0 2px rgba(59,130,246,.2);outline:none;}
.rc-presence-btn.open{background:var(--surface);border-color:var(--accent);color:var(--accent);box-shadow:0 0 0 2px rgba(59,130,246,.2);}
.rc-role-pill{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;border-radius:999px;font-size:11px;font-weight:600;letter-spacing:.08em;text-transform:uppercase;background:var(--surface-2);color:var(--accent);border:1px solid var(--accent);}
.rc-presence-panel{position:absolute;top:calc(100% + 12px);right:0;width:min(260px,80vw);background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-2xl);padding:14px 16px;box-shadow:var(--card-shadow);z-index:40;}
.rc-presence-title{font-size:12px;font-weight:600;letter-spacing:.12em;text-transform:uppercase;color:var(--text-2);}
.rc-presence-panel ul{margin:10px 0 0 0;padding:0;list-style:none;max-height:220px;overflow:auto;}
.rc-presence-panel li{display:flex;align-items:center;gap:8px;padding:6px 0;font-size:12px;border-top:1px solid var(--border);}
.rc-presence-panel li:first-child{border-top:none;padding-top:0;}
.rc-presence-panel li:last-child{padding-bottom:0;}
.rc-presence-panel li.self{color:var(--accent);font-weight:600;}
.rc-presence-dot-sm{width:7px;height:7px;border-radius:999px;background:#22c55e;box-shadow:0 0 6px rgba(34,197,94,.35);}
.rc-presence-you{margin-left:auto;font-size:10px;text-transform:uppercase;letter-spacing:.08em;color:var(--text-2);}
.rc-presence-empty{font-size:12px;color:var(--text-2);margin-top:8px;}
.rc-list{height:280px;overflow:auto;background:var(--surface);border-top:1px solid var(--border);border-bottom:1px solid var(--border);}
.rc-list ul{list-style:none;margin:0;padding:0;}
.rc-list li{padding:6px 12px;white-space:pre-wrap;word-break:break-word;display:flex;flex-wrap:wrap;align-items:flex-start;gap:4px;}
.rc-list li+li{border-top:1px solid var(--border);}
.rc-list li.rc-mention{background:var(--surface-2);box-shadow:inset 0 0 0 1px var(--accent);border-left:3px solid var(--accent);}
.rc-ping{display:inline-block;background:var(--accent);color:#fff;border-radius:6px;padding:0 4px;margin:0 1px;font-weight:700;letter-spacing:.02em;}
.rc-ts{color:var(--text-2);margin-right:6px;}
.rc-me{color:#16a34a;font-weight:600;}
.rc-other{color:var(--text-1);font-weight:600;}
.rc-admin{color:var(--accent);font-weight:700;}
.rc-actions{display:flex;gap:4px;margin-left:auto;}
.rc-ax{font-size:11px;background:var(--surface-2);border:1px solid var(--border);color:var(--text-1);border-radius:6px;padding:2px 6px;cursor:pointer;}
.rc-ax:hover{background:var(--surface);}
.rc-empty{opacity:.7;padding:12px;color:var(--text-2);}
.rc-form{display:flex;gap:8px;padding:10px 12px;background:var(--bg-2);position:relative;align-items:center;}
.rc-input{flex:1;background:var(--surface);border:1px solid var(--border);color:var(--text-1);border-radius:var(--radius-lg);padding:8px 10px;}
.rc-input:focus-visible{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px rgba(59,130,246,.25);}
.rc-emoji-btn{width:38px;height:38px;border-radius:var(--radius-lg);border:1px solid var(--border);background:var(--surface);color:var(--text-1);display:grid;place-items:center;font-size:18px;cursor:pointer;transition:background .2s ease,border-color .2s ease,transform .2s ease,color .2s ease;}
.rc-emoji-btn:hover{background:var(--surface-2);}
.rc-emoji-btn:disabled{opacity:.6;cursor:not-allowed;}
.rc-emoji-btn.open{border-color:var(--accent);color:var(--accent);box-shadow:0 0 0 2px rgba(59,130,246,.2);}
.rc-btn{background:var(--accent);border:none;color:#fff;border-radius:var(--radius-lg);padding:0 18px;font-weight:600;cursor:pointer;transition:opacity .2s ease,transform .2s ease;}
.rc-btn:hover{opacity:.92;}
.rc-btn:active{transform:scale(.98);}
.rc-btn:disabled{opacity:.6;cursor:not-allowed;}
.rc-emoji-panel{position:absolute;bottom:56px;right:12px;width:min(320px,90vw);background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-xl);box-shadow:var(--card-shadow);padding:12px;display:flex;flex-direction:column;gap:10px;z-index:60;}
.rc-emoji-title{font-size:11px;letter-spacing:.08em;text-transform:uppercase;color:var(--text-2);font-weight:600;}
.rc-emoji-grid{display:grid;grid-template-columns:repeat(8,minmax(0,1fr));gap:6px;}
.rc-emoji-item{height:36px;border-radius:10px;border:1px solid transparent;background:var(--surface-2);display:flex;align-items:center;justify-content:center;font-size:18px;cursor:pointer;transition:background .2s ease,border-color .2s ease,transform .15s ease;}
.rc-emoji-item:hover{background:var(--surface);border-color:var(--accent);transform:translateY(-1px);}
.rc-emoji-item:focus-visible{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px rgba(59,130,246,.2);}
.rc-emoji-empty{font-size:12px;color:var(--text-2);text-align:center;padding:10px 0;}
.nick-back{position:fixed;inset:0;background:rgba(15,15,18,.55);backdrop-filter:blur(6px);display:flex;align-items:center;justify-content:center;z-index:1000;padding:16px;}
.nick-card{width:min(92vw,520px);background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-2xl);padding:18px;color:var(--text-1);box-shadow:var(--card-shadow);}
.nick-row{display:flex;gap:8px;margin-top:12px;}
.nick-input{flex:1;background:var(--surface);border:1px solid var(--border);color:var(--text-1);border-radius:var(--radius-lg);padding:8px 10px;}
.nick-btn{background:var(--accent);border:1px solid var(--accent-600,var(--accent));color:#fff;border-radius:var(--radius-lg);padding:8px 12px;cursor:pointer;font-weight:600;}
.nick-btn:hover{background:var(--accent-600,var(--accent));}
.nick-pill{display:inline-flex;align-items:center;gap:6px;margin-top:10px;margin-right:8px;background:var(--surface-2);border:1px solid var(--border);border-radius:999px;padding:4px 10px;cursor:pointer;font-size:12px;color:var(--text-2);}
.nick-pill:hover{color:var(--accent);border-color:var(--accent);}
.nick-warn{font-size:12px;color:var(--text-2);margin-top:6px;}

`;function Je(n){try{const i=new URL(n);return i.protocol=i.protocol==="wss:"?"https:":i.protocol==="ws:"?"http:":i.protocol,i.pathname="/",i.search="",i.hash="",i.toString().replace(/\/+$/,"")}catch{return""}}function He(n){const i=`@e${n}`;return{NAME_KEY:`chat:nick${i}`,NAME_LOCK:`chat:nick:lock${i}`}}function Ye({room:n="global",className:i}){const o="wss://notifications-worker.wizardiowhy.workers.dev/chat",b=s.useMemo(()=>Je(o),[o]),[m,E]=s.useState(1),[f,J]=s.useState(!1),x=s.useMemo(()=>He(m),[m]),[A,H]=s.useState(!1),[g,Q]=s.useState(0),[P,h]=s.useState([]),[O,L]=s.useState(!1),[v,M]=s.useState(!1),[D,K]=s.useState(""),[X,z]=s.useState([]),_=s.useRef(null),u=s.useRef(null),k=s.useRef(null),oe=s.useRef(null),F=s.useRef(null),[V,Y]=s.useState(!1),G=s.useRef({}),[N,B]=s.useState(null),[I,R]=s.useState(!0),[re,T]=s.useState(ee()),ce=s.useRef({epochReady:f,needNick:I,nick:N}),r=s.useRef(x),t=s.useRef(null),c=s.useMemo(()=>v?"Admin":N??"",[v,N]),j=s.useMemo(()=>c.trim(),[c]),W=s.useMemo(()=>Ke(j||null),[j]);s.useEffect(()=>{if(f)try{const a=localStorage.getItem(x.NAME_KEY),d=localStorage.getItem(x.NAME_LOCK)==="1";a&&d?(B(a),R(!1),T(a)):a&&!d?(B(a),T(a),R(!0)):(B(null),T(ee()),R(!0))}catch{B(null),T(ee()),R(!0)}},[f,x.NAME_KEY,x.NAME_LOCK]),s.useEffect(()=>{ce.current={epochReady:f,needNick:I,nick:N}},[f,I,N]),s.useEffect(()=>{r.current=x},[x]),s.useEffect(()=>{v||L(!1)},[v]),s.useEffect(()=>{if(!(typeof window>"u")){window.__simplechatAdminState=v;try{window.dispatchEvent(new CustomEvent("simplechat:admin-state",{detail:{isAdmin:v}}))}catch{}}},[v]),s.useEffect(()=>{A||(L(!1),h([]))},[A]),s.useEffect(()=>{if(!O)return;const a=l=>{const y=k.current;y&&!y.contains(l.target)&&L(!1)},d=l=>{l.key==="Escape"&&L(!1)};return window.addEventListener("mousedown",a),window.addEventListener("keydown",d),()=>{window.removeEventListener("mousedown",a),window.removeEventListener("keydown",d)}},[O]),s.useEffect(()=>{if(!V)return;const a=l=>{const y=oe.current;y&&!y.contains(l.target)&&Y(!1)},d=l=>{l.key==="Escape"&&Y(!1)};return window.addEventListener("mousedown",a),window.addEventListener("keydown",d),()=>{window.removeEventListener("mousedown",a),window.removeEventListener("keydown",d)}},[V]),s.useEffect(()=>{I&&(t.current=null)},[I]),s.useEffect(()=>{let a=!1;if(!b){E(1),J(!0);return}return(async()=>{try{const d=await fetch(`${b}/nick-epoch`,{credentials:"include"}),l=d.ok&&Number((await d.json().catch(()=>({}))).epoch)||1;a||(E(l),J(!0))}catch{a||(E(1),J(!0))}})(),()=>{a=!0}},[b]),s.useEffect(()=>{const a=u.current;a&&(a.scrollTop=a.scrollHeight)},[X.length]),s.useEffect(()=>{let a=!1,d=0,l=null;const y=()=>{if(a)return;H(!1);const Z=new URL(o);Z.searchParams.set("room",n),l=new WebSocket(Z),_.current=l,l.addEventListener("open",()=>{H(!0),G.current={},d=0,Q(0);const{epochReady:ae,needNick:p,nick:w}=ce.current;if(ae&&w&&!p)try{l.send(JSON.stringify({type:"hello",name:w})),t.current=w}catch{}}),l.addEventListener("message",async ae=>{try{let p=Te(ae.data);if(!p&&typeof Blob<"u"&&ae.data instanceof Blob&&(p=JSON.parse(await ae.data.text())),!p)return;if(p.type==="history")z(p.messages);else if(p.type==="message"){const w=p.cid;if(w&&G.current[w]){const C=G.current[w];delete G.current[w],z(q=>{const ie=q.filter(de=>de.id!==C);return ie.some(de=>de.id===p.message.id)?ie:[...ie,p.message]})}else z(C=>C.some(q=>q.id===p.message.id)?C:[...C,p.message])}else if(p.type==="delete")z(w=>w.filter(C=>C.id!==p.id));else if(p.type==="edit")z(w=>w.map(C=>C.id===p.id?{...C,text:p.text}:C));else if(p.type==="system"){if(p.text==="admin-ok"?M(!0):p.text==="hello-ok"&&!p.name&&M(!1),p.text==="presence"){const w=Number(p.count);if(Q(Number.isFinite(w)&&w>0?Math.round(w):0),Array.isArray(p.names)){const C=p.names.map(q=>typeof q=="string"?q.trim():"").filter(q=>q.length>0);h(C)}else h([])}if(p.name&&(p.text==="hello-ok"||p.text==="admin-ok")){B(p.name),T(p.name),t.current=p.name;try{const{NAME_KEY:w,NAME_LOCK:C}=r.current;localStorage.setItem(w,p.name),localStorage.setItem(C,"1")}catch{}R(!1)}}}catch{}});const Me=()=>{a||(H(!1),Q(0),h([]),L(!1),d=Math.min(d+1,6),setTimeout(y,400*d))};l.addEventListener("close",Me),l.addEventListener("error",()=>l==null?void 0:l.close())};return y(),()=>{a=!0;try{l==null||l.close()}catch{}_.current=null,t.current=null}},[o,n]),s.useEffect(()=>{const a=_.current;if(!(!a||a.readyState!==WebSocket.OPEN)&&!(!f||I||!N)&&t.current!==N)try{a.send(JSON.stringify({type:"hello",name:N})),t.current=N}catch{}},[f,I,N]);function S(){const d=((re||"").trim().slice(0,80)||ee()).replace(/[^\p{L}\p{N}_ -]+/gu,"");B(d),T(d);try{localStorage.setItem(x.NAME_KEY,d)}catch{}const l=_.current;if(l&&l.readyState===WebSocket.OPEN)try{l.send(JSON.stringify({type:"hello",name:d})),t.current=d}catch{}}function te(){const a=D.replace(/\s+/g," ").trim(),d=_.current;if(!f||!N||I||!a||!d||d.readyState!==WebSocket.OPEN)return;const l=`${Date.now()}_${Math.random().toString(36).slice(2)}`,y=`loc_${l}`;G.current[l]=y,z(Z=>[...Z,{id:y,author:v?"Admin":N,text:a,ts:Date.now()}]),d.send(JSON.stringify({type:"message",text:a.slice(0,pe),cid:l})),K("")}const $=f&&A&&!!N&&!I;s.useEffect(()=>{$||Y(!1)},[$]);const le=()=>{$&&Y(a=>!a)},se=a=>{K(l=>`${l}${a}`),Y(!1);const d=()=>{const l=F.current;if(l){const y=l.value.length;l.focus();try{l.setSelectionRange(y,y)}catch{}}};typeof window<"u"&&typeof window.requestAnimationFrame=="function"?window.requestAnimationFrame(d):setTimeout(d,0)},Ee=a=>{const d=_.current;!v||!d||d.readyState!==WebSocket.OPEN||d.send(JSON.stringify({type:"delete",id:a}))},Ae=(a,d)=>{var Z;const l=_.current;if(!v||!l||l.readyState!==WebSocket.OPEN)return;const y=(Z=prompt("–ò–∑–º–µ–Ω–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ:",d))==null?void 0:Z.trim();y&&l.send(JSON.stringify({type:"edit",id:a,text:y.slice(0,pe)}))},Le=a=>a==="Admin"?"rc-admin":a===N?"rc-me":"rc-other";return e.jsxs("div",{className:i??"",children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:Be}}),e.jsxs("div",{className:"rc-wrap","aria-busy":!f,children:[e.jsxs("div",{ref:k,className:"rc-head",children:[e.jsx("div",{className:"rc-head-title",children:"–ö–æ–º–∞–Ω–¥–Ω—ã–π —á–∞—Ç"}),e.jsxs("div",{className:"rc-head-meta",children:[v?e.jsxs("button",{type:"button",className:`rc-presence rc-presence-btn${O?" open":""}`,onClick:()=>L(a=>!a),"aria-expanded":O,"aria-controls":"rc-presence-panel","aria-label":"–ö—Ç–æ —Å–µ–π—á–∞—Å –≤ —Å–µ—Ç–∏",children:[e.jsx("span",{className:`rc-presence-dot ${A?"on":""}`,"aria-hidden":!0}),e.jsxs("span",{className:"rc-presence-count","aria-live":"polite",children:[A?Math.max(g,0):0,e.jsx("span",{children:"–≤ —Å–µ—Ç–∏"})]})]}):e.jsxs("div",{className:"rc-presence",role:"status","aria-live":"polite",children:[e.jsx("span",{className:`rc-presence-dot ${A?"on":""}`,"aria-hidden":!0}),e.jsxs("span",{className:"rc-presence-count",children:[A?Math.max(g,0):0,e.jsx("span",{children:"–≤ —Å–µ—Ç–∏"})]})]}),v&&e.jsx("span",{className:"rc-role-pill",children:"ADMIN"})]}),v&&O&&e.jsxs("div",{id:"rc-presence-panel",className:"rc-presence-panel",role:"dialog","aria-label":"–°–ø–∏—Å–æ–∫ –∫—Ç–æ –≤ —Å–µ—Ç–∏",children:[e.jsx("div",{className:"rc-presence-title",children:"–°–µ–π—á–∞—Å –≤ —Å–µ—Ç–∏"}),P.length?e.jsx("ul",{children:P.map(a=>e.jsxs("li",{className:a===j?"self":void 0,children:[e.jsx("span",{className:"rc-presence-dot-sm","aria-hidden":!0}),e.jsx("span",{children:a}),a===j&&e.jsx("span",{className:"rc-presence-you",children:"–≤—ã"})]},a))}):e.jsx("div",{className:"rc-presence-empty",children:"–ù–∏–∫–æ–≥–æ –Ω–µ—Ç"})]})]}),e.jsx("div",{ref:u,className:"rc-list",children:f?X.length===0?e.jsx("div",{className:"rc-empty",children:"‚Ä¶"}):e.jsx("ul",{children:X.map(a=>{const d=j?a.author.trim()===j:!1,l=!!(W&&j&&!d&&ze(a.text,W)),y=l?Fe(a.text,W):a.text;return e.jsxs("li",{className:l?"rc-mention":void 0,children:[e.jsxs("span",{className:"rc-ts",children:["[",De(a.ts),"]"]}),e.jsx("span",{className:Le(a.author),children:a.author}),e.jsx("span",{children:": "}),e.jsx("span",{className:"rc-msg",children:y}),v&&e.jsxs("span",{className:"rc-actions",children:[e.jsx("button",{className:"rc-ax",onClick:()=>Ae(a.id,a.text),children:"–†–µ–¥."}),e.jsx("button",{className:"rc-ax",onClick:()=>Ee(a.id),children:"–£–¥–∞–ª."})]})]},a.id)})}):e.jsx("div",{className:"rc-empty",children:"–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶"})}),e.jsxs("form",{ref:oe,className:"rc-form",onSubmit:a=>{a.preventDefault(),te()},children:[e.jsx("button",{type:"button",className:`rc-emoji-btn${V?" open":""}`,onClick:le,disabled:!$,"aria-label":"–í—Å—Ç–∞–≤–∏—Ç—å —Å–º–∞–π–ª–∏–∫",children:"üòä"}),e.jsx("input",{ref:F,className:"rc-input",placeholder:"–Ω–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ‚Ä¶",value:D,onChange:a=>K(a.target.value),maxLength:pe,disabled:!$}),e.jsx("button",{type:"submit",className:"rc-btn",disabled:!$,children:"‚ñ∂"}),V&&e.jsxs("div",{className:"rc-emoji-panel",role:"menu","aria-label":"–ü–∞–ª–∏—Ç—Ä–∞ —Å–º–∞–π–ª–∏–∫–æ–≤",children:[e.jsx("div",{className:"rc-emoji-title",children:"–°–º–∞–π–ª–∏–∫–∏"}),je.length?e.jsx("div",{className:"rc-emoji-grid",children:je.map(a=>e.jsx("button",{type:"button",className:"rc-emoji-item",onClick:()=>se(a),"aria-label":`–í—Å—Ç–∞–≤–∏—Ç—å ${a}`,children:a},a))}):e.jsx("div",{className:"rc-emoji-empty",children:"–ù–∏—á–µ–≥–æ –Ω–µ—Ç"})]})]})]}),f&&I&&e.jsx("div",{className:"nick-back",role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"nick-card",children:[e.jsx("div",{style:{fontWeight:700,fontSize:16},children:"–í—ã–±–µ—Ä–∏—Ç–µ –Ω–∏–∫"}),e.jsx("div",{className:"nick-warn",children:"–ù–∏–∫ –∑–∞–¥–∞—ë—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑. –°–º–µ–Ω–∏—Ç—å –µ–≥–æ –ø–æ—Ç–æ–º –Ω–µ–ª—å–∑—è."}),e.jsxs("div",{className:"nick-row",children:[e.jsx("input",{className:"nick-input",value:re,onChange:a=>T(a.target.value),maxLength:80,placeholder:"–í–∞—à –Ω–∏–∫‚Ä¶",autoFocus:!0}),e.jsx("button",{type:"button",className:"nick-btn",onClick:()=>T(ee()),children:"üé≤"}),e.jsx("button",{type:"button",className:"nick-btn",onClick:S,children:"–û–∫"})]}),e.jsx("div",{children:Array.from({length:5}).map((a,d)=>e.jsx("span",{className:"nick-pill",onClick:()=>T(ee()),children:"üé≤ –°–ª—É—á–∞–π–Ω—ã–π"},d))})]})})]})}const we="forum:home-settings",Ne="forum:auth:accounts",U="forum:auth:session",We=[{label:"–§–æ—Ä—É–º",to:"/forum"},{label:"–ù–æ–≤–æ—Å—Ç–∏",to:"/news"},{label:"–ü—Ä–∞–≤–∏–ª–∞",to:"/rules"},{label:"FAQ",to:"/faq"}],xe={bannerTitle:"SKY Control Forum",bannerSubtitle:"–í—Å–µ –ø—Ä–∏–∫–∞–∑—ã, –æ—Ç—á—ë—Ç—ã –∏ —Å–ª—É–∂–µ–±–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏ —Å–æ–±—Ä–∞–Ω—ã –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ. –°–ª–µ–¥–∏—Ç–µ –∑–∞ –∫–∞–Ω–∞–ª–æ–º –æ–±—ä—è–≤–ª–µ–Ω–∏–π –∏ —Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –≤–∞–∂–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –≤ —á–∞—Ç.",announcements:[{id:"ann-1",title:"–°–∫—Ä–∏–ø—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∑–∞–≤–µ—Ä—à—ë–Ω",body:"–î–æ –∫–æ–Ω—Ü–∞ —Å–º–µ–Ω—ã –∫–æ–º–∞–Ω–¥–∞ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç –∞–≤—Ç–æ—Ä–∞—Å—Å—ã–ª–∫—É. –ï—Å–ª–∏ –∑–∞–º–µ—Ç–∏—Ç–µ –¥—É–±–ª–∏ ‚Äî –æ—Ç–ø–∏—à–∏—Ç–µ—Å—å –∑–¥–µ—Å—å –∏–ª–∏ –≤ —Å–ª—É–∂–µ–±–Ω—É—é –≤–µ—Ç–∫—É.",author:"Admin",timestamp:"–°–µ–≥–æ–¥–Ω—è, 19:10",pinned:!0},{id:"ann-2",title:"–û–±–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª–∞ –¥–æ–ø—É—Å–∫–∞",body:"–í —Ä–∞–∑–¥–µ–ª–µ ¬´–ü—Ä–∞–≤–∏–ª–∞¬ª –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å–≤–µ–∂–∏–µ –ø–æ–ø—Ä–∞–≤–∫–∏ –ø–æ –¥–æ—Å—Ç—É–ø–∞–º. –û–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å, –ø—Ä–µ–∂–¥–µ —á–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—Ç—å –∑–∞—è–≤–∫–∏.",author:"Mod Alpha",timestamp:"–°–µ–≥–æ–¥–Ω—è, 17:55",pinned:!1},{id:"ann-3",title:"–°–±–æ—Ä –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏",body:"–î–æ –ø—è—Ç–Ω–∏—Ü—ã —Å–æ–±–∏—Ä–∞–µ–º –∏–¥–µ–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –ø–∞–Ω–µ–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞. –ü–∏—à–∏—Ç–µ –∫–æ—Ä–æ—Ç–∫–æ –∏ –ø–æ –¥–µ–ª—É.",author:"Admin",timestamp:"–°–µ–≥–æ–¥–Ω—è, 16:40",pinned:!1}]},qe=[{id:"general",title:"General",description:"–û–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ –¥–∏—Å–∫—É—Å—Å–∏–∏ –∏ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è.",boards:[{id:"announcements",title:"Announcements & Alerts",description:"–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–∏–∫–∞–∑—ã, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, –∞ —Ç–∞–∫–∂–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.",topics:26,posts:192,href:"/news",pinned:!0,last:{subject:"–ß–µ–∫–ª–∏—Å—Ç –Ω–∞ –Ω–æ—á–Ω—É—é —Å–º–µ–Ω—É",author:"Admin",time:"–°–µ–≥–æ–¥–Ω—è, 19:24"}},{id:"briefings",title:"Briefing Room",description:"–ö—Ä–∞—Ç–∫–∏–µ –ø–ª–∞–Ω—ã –Ω–∞ —Å–º–µ–Ω—É, –¥–µ–∂—É—Ä—Å—Ç–≤–∞ –∏ –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å –ø–æ –∑–∞–¥–∞—á–∞–º.",topics:18,posts:143,href:"/briefings",pinned:!1,last:{subject:"–û—Ç—á—ë—Ç –ø–æ –ø–æ—Å—Ç–∞–º 3-5",author:"–ö—É—Ä–∞—Ç–æ—Ä N13",time:"–°–µ–≥–æ–¥–Ω—è, 18:41"}},{id:"incidents",title:"Incident Desk",description:"–§–∏–∫—Å–∞—Ü–∏—è –Ω–µ—à—Ç–∞—Ç–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π –∏ –∏—Ö –æ—Ç—Ä–∞–±–æ—Ç–∫–∞. –§–æ—Ç–æ/–≤–∏–¥–µ–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è.",topics:42,posts:387,href:"/incidents",pinned:!1,last:{subject:"–§–∏–∫—Å –ø–æ –≤—ã–µ–∑–¥—É 24/08",author:"Stark",time:"–°–µ–≥–æ–¥–Ω—è, 18:05"}}]},{id:"knowledge",title:"Knowledge Base",description:"–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ —à–∞–±–ª–æ–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.",boards:[{id:"playbook",title:"Playbook & SOP",description:"–°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è –∫–ª—é—á–µ–≤—ã—Ö —Ä–æ–ª–µ–π –∏ —Å–∏—Ç—É–∞—Ü–∏–π.",topics:35,posts:278,href:"/guides",pinned:!1,last:{subject:"v3.2 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ",author:"Doc-Beta",time:"–°–µ–≥–æ–¥–Ω—è, 15:32"}},{id:"law",title:"Legal & Compliance",description:"–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –±–∞–∑–∞, —à–∞–±–ª–æ–Ω—ã –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ –Ω–æ—Ä–º–∞—Ç–∏–≤–∫—É.",topics:22,posts:154,href:"/laws",pinned:!1,last:{subject:"–ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç —Ä–∞–ø–æ—Ä—Ç–æ–≤",author:"Mod Vega",time:"–í—á–µ—Ä–∞, 23:18"}},{id:"archive",title:"Archive & Logs",description:"–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π, —Å–ø–∏—Å–∫–∏ –æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∫–µ–π—Å–æ–≤ –∏ –∞—Ä—Ö–∏–≤ –æ—Ç—á—ë—Ç–æ–≤.",topics:64,posts:698,href:"/archive",pinned:!1,last:{subject:"–†–µ–ª–∏–∑ telemetry-42",author:"Archivist",time:"–í—á–µ—Ä–∞, 21:04"}}]},{id:"community",title:"Community",description:"–û–±—â–µ–Ω–∏–µ, –≤–Ω–µ–ø–ª–∞–Ω–æ–≤—ã–µ —Ç–µ–º—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞.",boards:[{id:"lounge",title:"Respite Lounge",description:"–ë–µ—Å–µ–¥—ã –≤–Ω–µ —Å–ª—É–∂–µ–±–Ω–æ–π —Ç–µ–º—ã, –ø–ª–∞–Ω—ã –Ω–∞ –≤–µ—á–µ—Ä –∏ –Ω–µ–±–æ–ª—å—à–∏–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è.",topics:58,posts:612,href:"/lounge",pinned:!1,last:{subject:"–ü–ª–µ–π–ª–∏—Å—Ç –Ω–µ–¥–µ–ª–∏",author:"Pulse",time:"–°–µ–≥–æ–¥–Ω—è, 14:27"}},{id:"helpdesk",title:"Helpdesk & Support",description:"–†–µ—à–µ–Ω–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º, –∑–∞—è–≤–∫–∏ –Ω–∞ –¥–æ—Å—Ç—É–ø –∏ –ø–æ–º–æ—â—å —Å –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏.",topics:31,posts:203,href:"/support",pinned:!1,last:{subject:"–°–º–µ–Ω–∞ —Ç–æ–∫–µ–Ω–∞ DO",author:"Admin",time:"–°–µ–≥–æ–¥–Ω—è, 13:50"}},{id:"feedback",title:"Feedback Vault",description:"–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –ø–æ—Ä—Ç–∞–ª–∞, –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –∏ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å.",topics:44,posts:256,href:"/feedback",pinned:!1,last:{subject:"UI –¥–ª—è —Ñ–æ—Ä–º—ã –∑–∞—è–≤–æ–∫",author:"NeonFox",time:"–°–µ–≥–æ–¥–Ω—è, 12:10"}}]}],Ue=[{label:"–¢–µ–º—ã",value:"268",hint:"–∞–∫—Ç–∏–≤–Ω—ã–µ –æ–±—Å—É–∂–¥–µ–Ω–∏—è"},{label:"–°–æ–æ–±—â–µ–Ω–∏–π",value:"2 764",hint:"–∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π"},{label:"–†–æ—Ç–∞—Ü–∏–∏",value:"12",hint:"–µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –±—Ä–∏—Ñ–∏–Ω–≥–æ–≤"},{label:"–î–æ–∫—É–º–µ–Ω—Ç–æ–≤",value:"86",hint:"–∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤"}],Ve=[{name:"Admin",role:"root",online:!0,color:"var(--accent)"},{name:"Mod Alpha",role:"moderator",online:!0,color:"#7dd3fc"},{name:"Doc-Beta",role:"documentation",online:!0,color:"#a78bfa"},{name:"Pulse",role:"observer",online:!1,color:"#f97316"}],Ge=[{label:"–ü–∞–Ω–µ–ª—å –∑–∞–¥–∞—á",description:"–û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–∂—É—Ä—Å—Ç–≤ –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ –ø–æ —Ä–æ–ª—è–º.",to:"/tasks"},{label:"–ñ—É—Ä–Ω–∞–ª –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤",description:"–í–µ–¥–∏—Ç–µ –µ–¥–∏–Ω—ã–π –ª–æ–≥ –ø—Ä–æ–∏—Å—à–µ—Å—Ç–≤–∏–π –∏ –¥–µ–π—Å—Ç–≤–∏–π –∫–æ–º–∞–Ω–¥—ã.",to:"/incidents"},{label:"–°–ø—Ä–∞–≤–∫–∞ –ø–æ API",description:"–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.",to:"/api"}],ke=[["#22d3ee","#6366f1"],["#34d399","#0ea5e9"],["#f97316","#f43f5e"],["#a855f7","#6366f1"],["#facc15","#f97316"],["#38bdf8","#a855f7"],["#fb7185","#f97316"],["#14b8a6","#8b5cf6"],["#f472b6","#f59e0b"],["#ef4444","#f97316"]],Se=["¬´–Ø —Å–ª–µ–∂—É –∑–∞ —á–∏—Å—Ç–æ—Ç–æ–π —Ä–µ–≥–ª–∞–º–µ–Ω—Ç–∞.¬ª","¬´–ü—Ä–∏–≤–æ–∂—É —Ö–∞–æ—Å –≤ –ø–æ—Ä—è–¥–æ–∫.¬ª","¬´–ú–æ–∏ –æ—Ç—á—ë—Ç—ã –≤—Å–µ–≥–¥–∞ –≤–æ–≤—Ä–µ–º—è.¬ª","¬´–ü—Ä–æ–≤–µ—Ä—è—é –∫–∞–∂–¥—ã–π –¥–æ—Å—Ç—É–ø –¥–≤–∞–∂–¥—ã.¬ª","¬´–ù–∏–∫–∞–∫–∏—Ö –Ω–µ–æ—Ç–≤–µ—á–µ–Ω–Ω—ã—Ö ping–æ–≤.¬ª","¬´–ö–æ–º–∞–Ω–¥—É—é —Å–º–µ–Ω–æ–π –∫–∞–∫ –¥–∏—Ä–∏–∂—ë—Ä.¬ª","¬´–ö–æ–Ω—Ç—Ä–æ–ª—å ‚Äî –º–æ—ë –≤—Ç–æ—Ä–æ–µ –∏–º—è.¬ª","¬´–ù–µ–æ–Ω–æ–≤—ã–µ –Ω–æ—á–∏ –∏ —Å—Ç—Ä–æ–≥–∏–π –ø–æ—Ä—è–¥–æ–∫.¬ª","¬´–î–µ–∂—É—Ä—Å—Ç–≤–æ ‚Äî –∫–∞–∫ –∏—Å–∫—É—Å—Å—Ç–≤–æ.¬ª","¬´–ó–Ω–∞—é SOP –Ω–∞–∏–∑—É—Å—Ç—å.¬ª"];function Ze(){const n=ke[Math.floor(Math.random()*ke.length)],i=Se[Math.floor(Math.random()*Se.length)];return{from:n[0],to:n[1],tagline:i}}function Qe(n){return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}async function Ce(n,i){const o=typeof globalThis<"u"?globalThis.crypto||globalThis.msCrypto:void 0;try{if(o!=null&&o.subtle){const b=new TextEncoder().encode(`${n}::${i}`),m=await o.subtle.digest("SHA-256",b);return Qe(m)}}catch{}try{return btoa(`${n}::${i}`)}catch{return`${n}::${i}`}}function Xe(){const n=typeof globalThis<"u"?globalThis.crypto||globalThis.msCrypto:void 0;if(n!=null&&n.getRandomValues){const i=new Uint8Array(16);return n.getRandomValues(i),Array.from(i).map(o=>o.toString(16).padStart(2,"0")).join("")}return`${Math.random().toString(16).slice(2)}${Math.random().toString(16).slice(2)}`}function er(n,i){return!Array.isArray(n)||n.length===0?i:n.map((o,b)=>{const m=i[b]||xe.announcements[b]||xe.announcements[0],E=typeof(o==null?void 0:o.id)=="string"&&o.id.trim()?o.id.trim():`ann-${b}-${Date.now()}`,f=typeof(o==null?void 0:o.title)=="string"&&o.title.trim()?o.title.trim():m.title,J=typeof(o==null?void 0:o.body)=="string"&&o.body.trim()?o.body.trim():m.body,x=typeof(o==null?void 0:o.author)=="string"&&o.author.trim()?o.author.trim():m.author,A=typeof(o==null?void 0:o.timestamp)=="string"&&o.timestamp.trim()?o.timestamp.trim():m.timestamp,H=!!(o!=null&&o.pinned);return{id:E,title:f,body:J,author:x,timestamp:A,pinned:H}}).filter(o=>o.title.trim().length>0)}function ar(){const[n,i]=s.useState(!1),[o,b]=s.useState([]),[m,E]=s.useState(null),[f,J]=s.useState("register"),[x,A]=s.useState(!1),[H,g]=s.useState(null),[Q,P]=s.useState(null),[h,O]=s.useState({username:"",email:"",password:"",confirm:"",accept:!1,remember:!0}),[L,v]=s.useState({identifier:"",password:"",remember:!0}),[M,D]=s.useState(xe),[K,X]=s.useState(!1),[z,_]=s.useState(!1),u=s.useMemo(()=>m?o.find(r=>r.id===m.userId)??null:null,[o,m]),k=!!u,oe=s.useMemo(()=>{if(!u)return"";try{return new Date(u.createdAt).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"})}catch{return u.createdAt}},[u]),F=s.useMemo(()=>{const r=h.password;return[{id:"len",label:"–ú–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤",satisfied:r.length>=8},{id:"upper",label:"–ï—Å—Ç—å –∑–∞–≥–ª–∞–≤–Ω–∞—è –±—É–∫–≤–∞",satisfied:/[A-Z–ê-–Ø–Å]/.test(r)},{id:"lower",label:"–ï—Å—Ç—å —Å—Ç—Ä–æ—á–Ω–∞—è –±—É–∫–≤–∞",satisfied:/[a-z–∞-—è—ë]/.test(r)},{id:"digit",label:"–ï—Å—Ç—å —Ü–∏—Ñ—Ä–∞",satisfied:/\d/.test(r)},{id:"symbol",label:"–ï—Å—Ç—å —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª",satisfied:/[^\w\s]/.test(r)}]},[h.password]),V=s.useMemo(()=>{const r=F.filter(t=>t.satisfied).length;return Math.round(r/F.length*100)},[F]);s.useEffect(()=>{document.title="SKY // Control Forum"},[]),s.useEffect(()=>{if(!(typeof window>"u")){try{const r=window.localStorage.getItem(Ne);if(r){const t=JSON.parse(r);Array.isArray(t)&&b(t.filter(c=>typeof(c==null?void 0:c.id)=="string"))}}catch{}try{const r=window.sessionStorage.getItem(U)||window.localStorage.getItem(U);if(r){const t=JSON.parse(r);t&&typeof t=="object"&&typeof t.userId=="string"&&E({userId:t.userId,remember:!!t.remember,lastLogin:typeof t.lastLogin=="string"?t.lastLogin:new Date().toISOString()})}}catch{}i(!0)}},[]),s.useEffect(()=>{if(!(!n||typeof window>"u"))try{window.localStorage.setItem(Ne,JSON.stringify(o))}catch{}},[o,n]),s.useEffect(()=>{if(!(!n||typeof window>"u"))try{if(m){const r=JSON.stringify(m);m.remember?(window.localStorage.setItem(U,r),window.sessionStorage.removeItem(U)):(window.sessionStorage.setItem(U,r),window.localStorage.removeItem(U))}else window.localStorage.removeItem(U),window.sessionStorage.removeItem(U)}catch{}},[m,n]),s.useEffect(()=>{g(null),P(null)},[f]),s.useEffect(()=>{if(!(typeof window>"u"))try{const r=window.localStorage.getItem(we);if(!r)return;const t=JSON.parse(r);if(!t||typeof t!="object")return;D(c=>({bannerTitle:typeof t.bannerTitle=="string"&&t.bannerTitle.trim()?t.bannerTitle.trim():c.bannerTitle,bannerSubtitle:typeof t.bannerSubtitle=="string"&&t.bannerSubtitle.trim()?t.bannerSubtitle.trim():c.bannerSubtitle,announcements:er(t.announcements,c.announcements)}))}catch{}},[]),s.useEffect(()=>{if(!(typeof window>"u"))try{window.localStorage.setItem(we,JSON.stringify(M))}catch{}},[M]),s.useEffect(()=>{if(typeof window>"u")return;X(!!window.__simplechatAdminState);const r=t=>{const c=t.detail;c&&typeof c.isAdmin=="boolean"&&X(c.isAdmin)};return window.addEventListener("simplechat:admin-state",r),()=>{window.removeEventListener("simplechat:admin-state",r)}},[]),s.useEffect(()=>{K||_(!1)},[K]);const Y=s.useCallback(r=>r.trim().replace(/\s+/g," "),[]),G=s.useCallback(async()=>{if(x)return;g(null),P(null);const r=Y(h.username);if(r.length<3){g("–ù–∏–∫–Ω–µ–π–º –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞.");return}if(!/^[\p{L}\d _-]+$/u.test(r)){g("–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã, –ø—Ä–æ–±–µ–ª—ã, –¥–µ—Ñ–∏—Å –∏–ª–∏ –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏–µ.");return}const t=h.email.trim().toLowerCase();if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){g("–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∞–¥—Ä–µ—Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã.");return}if(h.password!==h.confirm){g("–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç.");return}if(F.some(S=>!S.satisfied)){g("–ü–∞—Ä–æ–ª—å —Å–ª–∏—à–∫–æ–º —Å–ª–∞–±—ã–π. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ —É—Å–ª–æ–≤–∏—è –Ω–∏–∂–µ.");return}if(!h.accept){g("–ù—É–∂–Ω–æ –ø—Ä–∏–Ω—è—Ç—å —Ä–µ–≥–ª–∞–º–µ–Ω—Ç —Ñ–æ—Ä—É–º–∞.");return}if(o.some(S=>S.username.toLowerCase()===r.toLowerCase())){g("–¢–∞–∫–æ–π –Ω–∏–∫ —É–∂–µ –∑–∞–Ω—è—Ç. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Å–∏–º–≤–æ–ª.");return}if(o.some(S=>S.email===t)){g("–ü–æ—á—Ç–∞ —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –¥—Ä—É–≥–æ–π —É—á—ë—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏.");return}A(!0);try{const S=Xe(),te=await Ce(h.password,S),$=Ze(),le={id:`acc-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,username:r,email:t,salt:S,passwordHash:te,createdAt:new Date().toISOString(),accentFrom:$.from,accentTo:$.to,tagline:$.tagline};b(se=>[...se,le]),E({userId:le.id,remember:h.remember,lastLogin:new Date().toISOString()}),O(se=>({...se,username:"",email:"",password:"",confirm:"",accept:!1})),P("–£—á—ë—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å —Å–æ–∑–¥–∞–Ω–∞. –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Ñ–æ—Ä—É–º!")}catch{g("–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑.")}finally{A(!1)}},[o,x,Y,F,h]),N=s.useCallback(async()=>{if(x)return;g(null),P(null);const r=L.identifier.trim().toLowerCase();if(!r){g("–í–≤–µ–¥–∏—Ç–µ –Ω–∏–∫ –∏–ª–∏ –ø–æ—á—Ç—É.");return}const t=o.find(c=>c.username.toLowerCase()===r||c.email===r);if(!t){g("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω.");return}A(!0);try{if(await Ce(L.password,t.salt)!==t.passwordHash){g("–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å.");return}E({userId:t.id,remember:L.remember,lastLogin:new Date().toISOString()}),v(j=>({...j,password:""})),P(`–° –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º, ${t.username}!`)}catch{g("–ù–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞—Ä–æ–ª—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑.")}finally{A(!1)}},[o,x,L]),B=s.useCallback(()=>{E(null),P("–í—ã –≤—ã—à–ª–∏ –∏–∑ —Ñ–æ—Ä—É–º–∞. –í–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ—Å—å —Å–∫–æ—Ä–µ–µ!")},[]),I=s.useMemo(()=>[...M.announcements].sort((r,t)=>Number(t.pinned)-Number(r.pinned)),[M.announcements]),R=s.useCallback((r,t)=>{D(c=>({...c,announcements:c.announcements.map(j=>j.id===r?{...j,...t}:j)}))},[]),re=s.useCallback((r,t)=>{D(c=>{const j=c.announcements.findIndex($=>$.id===r);if(j===-1)return c;const W=j+t;if(W<0||W>=c.announcements.length)return c;const S=[...c.announcements],[te]=S.splice(j,1);return S.splice(W,0,te),{...c,announcements:S}})},[]),T=s.useCallback(()=>{const r=new Date,t={id:`ann-${r.getTime()}`,title:"–ù–æ–≤—ã–π –∞–ø–¥–µ–π—Ç",body:"–û–ø–∏—à–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, —á—Ç–æ–±—ã –∫–æ–º–∞–Ω–¥–∞ –∑–Ω–∞–ª–∞, —á—Ç–æ –¥–µ–ª–∞—Ç—å.",author:"Admin",timestamp:r.toLocaleString("ru-RU",{hour12:!1}),pinned:!0};D(c=>({...c,announcements:[t,...c.announcements]}))},[]),ce=s.useCallback(r=>{D(t=>({...t,announcements:t.announcements.filter(c=>c.id!==r)}))},[]);return e.jsxs("main",{className:"min-h-screen pb-16",style:{background:"var(--bg-1)",color:"var(--text-1)"},children:[e.jsxs("div",{className:"mx-auto flex w-full max-w-6xl flex-col gap-8 px-4 py-8",children:[e.jsxs("header",{className:"rounded-xl border border-[color:var(--border)] bg-[color:var(--surface)] shadow-lg",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 border-b border-[color:var(--border)] px-6 py-4",style:{background:"var(--bg-2)"},children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm uppercase tracking-[0.4em]",style:{color:"var(--accent)"},children:[e.jsx(me,{className:"h-5 w-5","aria-hidden":!0}),e.jsx("span",{children:"SKY // CONTROL"})]}),e.jsx("nav",{className:"flex flex-wrap items-center gap-3 text-xs uppercase tracking-[0.22em]",style:{color:"var(--text-2)"},children:We.map(r=>e.jsx(ue,{to:r.to,className:"rounded-md border border-transparent px-3 py-1 transition-colors duration-150 hover:border-[color:var(--accent)] hover:text-[color:var(--accent)]",children:r.label},r.label))}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs uppercase tracking-[0.22em]",style:{color:"var(--text-2)"},children:[e.jsxs("div",{className:"flex items-center gap-3 rounded-full border border-[color:var(--border)] px-3 py-1.5",style:{background:"var(--surface)"},children:[e.jsx("span",{className:`h-2.5 w-2.5 rounded-full shadow-[0_0_8px_rgba(74,222,128,0.45)] transition-colors ${u?"bg-emerald-400":"bg-rose-500 shadow-[0_0_8px_rgba(244,63,94,0.45)]"}`,"aria-hidden":!0}),e.jsx("span",{children:u?"–í —Å–µ—Ç–∏":"–ì–æ—Å—Ç—å"}),u&&e.jsx("span",{className:"tracking-[0.1em] text-[color:var(--text-1)]",children:u.username})]}),K&&u&&e.jsxs("button",{type:"button",onClick:()=>_(!0),className:"flex items-center gap-1 rounded-md border border-[color:var(--accent)] px-3 py-1 text-[color:var(--accent)] transition hover:bg-[color:var(--accent)]/10",children:[e.jsx(fe,{className:"h-4 w-4","aria-hidden":!0}),"–ü–∞–Ω–µ–ª—å"]}),u?e.jsxs("button",{type:"button",onClick:B,className:"flex items-center gap-1 rounded-md border border-[color:var(--border)] px-3 py-1 transition hover:border-[color:var(--accent)] hover:text-[color:var(--accent)]",children:[e.jsx(he,{className:"h-4 w-4","aria-hidden":!0}),"–í—ã–π—Ç–∏"]}):e.jsxs("a",{href:"#forum-auth",className:"flex items-center gap-1 rounded-md border border-[color:var(--accent)] px-3 py-1 text-[color:var(--accent)] transition hover:bg-[color:var(--accent)]/10",children:[e.jsx(be,{className:"h-4 w-4","aria-hidden":!0}),"–í–æ–π—Ç–∏"]})]})]}),e.jsxs("div",{className:"grid gap-6 px-6 py-6 lg:grid-cols-[minmax(0,1.8fr)_minmax(0,1fr)]",children:[e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("section",{id:"forum-auth",className:"relative overflow-hidden rounded-2xl border border-[color:var(--border)] bg-[color:var(--surface)]/90 shadow-[0_45px_90px_-60px_rgba(59,130,246,0.45)]",children:[e.jsx("div",{className:"pointer-events-none absolute inset-0 opacity-90",style:{background:`linear-gradient(135deg, ${(u==null?void 0:u.accentFrom)??"var(--accent)"} 0%, ${(u==null?void 0:u.accentTo)??"#6366f1"} 100%)`}}),e.jsxs("div",{className:"relative grid gap-6 px-6 py-6 md:grid-cols-[minmax(0,1.1fr)_minmax(0,1fr)]",children:[e.jsxs("div",{className:"space-y-4 text-white",children:[e.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/15 px-3 py-1 text-[10px] uppercase tracking-[0.4em]",children:[e.jsx(ge,{className:"h-3.5 w-3.5","aria-hidden":!0}),"SKY // FORUM ACCESS"]}),e.jsx("h2",{className:"text-2xl font-semibold leading-snug",children:k?`–ö–æ–º–∞–Ω–¥–Ω—ã–π —Ü–µ–Ω—Ç—Ä –æ—Ç–∫—Ä—ã—Ç, ${u==null?void 0:u.username}!`:"–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å, —á—Ç–æ–±—ã –≤–æ–π—Ç–∏ –≤ —Å–º–µ–Ω—É"}),e.jsx("p",{className:"text-sm leading-relaxed text-white/80",children:k?u==null?void 0:u.tagline:"–°–æ–∑–¥–∞–π—Ç–µ —É—á—ë—Ç–Ω—É—é –∑–∞–ø–∏—Å—å, —á—Ç–æ–±—ã –≤–µ—Å—Ç–∏ —Å–º–µ–Ω—É, –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –æ—Ç—á—ë—Ç—ã –∏ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º —Ñ–æ—Ä—É–º–æ–º –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏."}),e.jsxs("ul",{className:"grid gap-2 text-[11px] uppercase tracking-[0.32em] text-white/80 sm:grid-cols-2",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-white"}),"–ö–æ–Ω—Ç—Ä–æ–ª—å —Å–º–µ–Ω"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-white"}),"–û—Ç—á—ë—Ç—ã –∏ SOP"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-white"}),"–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —á–∞—Ç"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-white"}),"–ü–∏–Ω–≥–∏ –∏ –∞–ª–µ—Ä—Ç—ã"]})]}),H&&e.jsxs("div",{className:"flex items-start gap-2 rounded-lg bg-rose-500/25 px-3 py-2 text-xs font-medium text-white shadow-inner shadow-rose-500/20",children:[e.jsx(Oe,{className:"mt-0.5 h-4 w-4","aria-hidden":!0}),e.jsx("span",{children:H})]}),Q&&e.jsxs("div",{className:"flex items-start gap-2 rounded-lg bg-emerald-500/30 px-3 py-2 text-xs font-medium text-white shadow-inner shadow-emerald-500/25",children:[e.jsx(ve,{className:"mt-0.5 h-4 w-4","aria-hidden":!0}),e.jsx("span",{children:Q})]})]}),e.jsx("div",{className:"rounded-xl border border-white/20 bg-[color:var(--surface)]/95 p-5 text-[color:var(--text-1)] shadow-xl backdrop-blur",children:k?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-xl border border-[color:var(--border)] bg-[color:var(--surface)]/80 p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs uppercase tracking-[0.28em]",style:{color:"var(--text-2)"},children:[e.jsx("span",{children:"–°–µ—Å—Å–∏—è –∞–∫—Ç–∏–≤–Ω–∞"}),e.jsx("span",{children:m!=null&&m.remember?"–ó–∞–ø–æ–º–Ω–µ–Ω–æ":"–ì–æ—Å—Ç–µ–≤–∞—è"})]}),e.jsx("div",{className:"mt-3 text-xl font-semibold",children:u==null?void 0:u.username}),e.jsxs("div",{className:"text-sm",style:{color:"var(--text-2)"},children:["–° –Ω–∞–º–∏ —Å ",oe]}),e.jsx("div",{className:"mt-3 rounded-lg px-3 py-2 text-xs uppercase tracking-[0.26em]",style:{color:(u==null?void 0:u.accentFrom)??"var(--accent)",background:"var(--surface)"},children:u==null?void 0:u.tagline})]}),e.jsxs("button",{type:"button",onClick:B,className:"flex w-full items-center justify-center gap-2 rounded-lg bg-[color:var(--accent)] px-4 py-2 text-sm font-semibold text-white shadow hover:opacity-95 focus:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--accent)]/40",children:[e.jsx(he,{className:"h-4 w-4","aria-hidden":!0}),"–í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞"]})]}):e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"inline-flex rounded-full border border-[color:var(--border)] bg-[color:var(--surface)]/80 p-1 text-xs font-semibold uppercase tracking-[0.28em]",children:[e.jsx("button",{type:"button",onClick:()=>J("register"),className:`rounded-full px-3 py-1 transition ${f==="register"?"bg-[color:var(--accent)] text-white shadow":""}`,children:"–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è"}),e.jsx("button",{type:"button",onClick:()=>J("login"),className:`rounded-full px-3 py-1 transition ${f==="login"?"bg-[color:var(--accent)] text-white shadow":""}`,children:"–í—Ö–æ–¥"})]}),f==="register"?e.jsxs("form",{className:"space-y-3",onSubmit:r=>{r.preventDefault(),G()},children:[e.jsxs("label",{className:"block text-xs uppercase tracking-[0.28em]",style:{color:"var(--text-2)"},children:["–ù–∏–∫–Ω–µ–π–º",e.jsx("input",{className:"mt-1 w-full rounded-lg border border-[color:var(--border)] bg-[color:var(--surface)] px-3 py-2 text-sm focus:border-[color:var(--accent)] focus:outline-none focus:ring-2 focus:ring-[color:var(--accent)]/30",value:h.username,onChange:r=>O(t=>({...t,username:r.target.value})),placeholder:"–ù–∞–ø—Ä–∏–º–µ—Ä, Shift-Lord",autoComplete:"username",disabled:x||!n,required:!0})]}),e.jsxs("label",{className:"block text-xs uppercase tracking-[0.28em]",style:{color:"var(--text-2)"},children:["–ü–æ—á—Ç–∞",e.jsx("input",{className:"mt-1 w-full rounded-lg border border-[color:var(--border)] bg-[color:var(--surface)] px-3 py-2 text-sm focus:border-[color:var(--accent)] focus:outline-none focus:ring-2 focus:ring-[color:var(--accent)]/30",type:"email",value:h.email,onChange:r=>O(t=>({...t,email:r.target.value})),placeholder:"you@sky-control",autoComplete:"email",disabled:x||!n,required:!0})]}),e.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[e.jsxs("label",{className:"block text-xs uppercase tracking-[0.28em]",style:{color:"var(--text-2)"},children:["–ü–∞—Ä–æ–ª—å",e.jsx("input",{className:"mt-1 w-full rounded-lg border border-[color:var(--border)] bg-[color:var(--surface)] px-3 py-2 text-sm focus:border-[color:var(--accent)] focus:outline-none focus:ring-2 focus:ring-[color:var(--accent)]/30",type:"password",value:h.password,onChange:r=>O(t=>({...t,password:r.target.value})),placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",autoComplete:"new-password",disabled:x||!n,required:!0})]}),e.jsxs("label",{className:"block text-xs uppercase tracking-[0.28em]",style:{color:"var(--text-2)"},children:["–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å",e.jsx("input",{className:"mt-1 w-full rounded-lg border border-[color:var(--border)] bg-[color:var(--surface)] px-3 py-2 text-sm focus:border-[color:var(--accent)] focus:outline-none focus:ring-2 focus:ring-[color:var(--accent)]/30",type:"password",value:h.confirm,onChange:r=>O(t=>({...t,confirm:r.target.value})),placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",autoComplete:"new-password",disabled:x||!n,required:!0})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-xs uppercase tracking-[0.28em]",style:{color:"var(--text-2)"},children:[e.jsx("span",{children:"–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å"}),e.jsxs("span",{children:[V,"%"]})]}),e.jsx("div",{className:"mt-2 h-1.5 rounded-full bg-[color:var(--border)]",children:e.jsx("div",{className:"h-1.5 rounded-full bg-[color:var(--accent)] transition-all",style:{width:`${Math.max(10,V)}%`}})}),e.jsx("ul",{className:"mt-2 grid gap-1 text-[11px] uppercase tracking-[0.24em]",style:{color:"var(--text-2)"},children:F.map(r=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(ve,{className:`h-3.5 w-3.5 ${r.satisfied?"text-emerald-500":"text-[color:var(--border)]"}`,"aria-hidden":!0}),e.jsx("span",{className:r.satisfied?"text-emerald-500":void 0,children:r.label})]},r.id))})]}),e.jsxs("label",{className:"flex items-center gap-2 text-[11px] uppercase tracking-[0.24em]",style:{color:"var(--text-2)"},children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-[color:var(--border)] text-[color:var(--accent)] focus:ring-[color:var(--accent)]",checked:h.remember,onChange:r=>O(t=>({...t,remember:r.target.checked})),disabled:x||!n}),"–ó–∞–ø–æ–º–Ω–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ"]}),e.jsxs("label",{className:"flex items-start gap-2 text-[11px] uppercase tracking-[0.24em]",style:{color:"var(--text-2)"},children:[e.jsx("input",{type:"checkbox",className:"mt-0.5 h-4 w-4 rounded border-[color:var(--border)] text-[color:var(--accent)] focus:ring-[color:var(--accent)]",checked:h.accept,onChange:r=>O(t=>({...t,accept:r.target.checked})),disabled:x||!n}),e.jsxs("span",{children:["–ü—Ä–∏–Ω–∏–º–∞—é —Ä–µ–≥–ª–∞–º–µ–Ω—Ç ",e.jsx("a",{className:"underline",href:"/rules",children:"SKY Control"})]})]}),e.jsx("button",{type:"submit",disabled:x||!n,className:"flex w-full items-center justify-center gap-2 rounded-lg bg-[color:var(--accent)] px-4 py-2 text-sm font-semibold text-white shadow transition hover:opacity-95 disabled:cursor-not-allowed disabled:opacity-70",children:x?"–°–æ–∑–¥–∞–Ω–∏–µ...":"–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç"})]}):e.jsxs("form",{className:"space-y-3",onSubmit:r=>{r.preventDefault(),N()},children:[e.jsxs("label",{className:"block text-xs uppercase tracking-[0.28em]",style:{color:"var(--text-2)"},children:["–ù–∏–∫ –∏–ª–∏ –ø–æ—á—Ç–∞",e.jsx("input",{className:"mt-1 w-full rounded-lg border border-[color:var(--border)] bg-[color:var(--surface)] px-3 py-2 text-sm focus:border-[color:var(--accent)] focus:outline-none focus:ring-2 focus:ring-[color:var(--accent)]/30",value:L.identifier,onChange:r=>v(t=>({...t,identifier:r.target.value})),placeholder:"Shift-Lord / you@sky",autoComplete:"username",disabled:x||!n,required:!0})]}),e.jsxs("label",{className:"block text-xs uppercase tracking-[0.28em]",style:{color:"var(--text-2)"},children:["–ü–∞—Ä–æ–ª—å",e.jsx("input",{className:"mt-1 w-full rounded-lg border border-[color:var(--border)] bg-[color:var(--surface)] px-3 py-2 text-sm focus:border-[color:var(--accent)] focus:outline-none focus:ring-2 focus:ring-[color:var(--accent)]/30",type:"password",value:L.password,onChange:r=>v(t=>({...t,password:r.target.value})),placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",autoComplete:"current-password",disabled:x||!n,required:!0})]}),e.jsxs("label",{className:"flex items-center gap-2 text-[11px] uppercase tracking-[0.24em]",style:{color:"var(--text-2)"},children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-[color:var(--border)] text-[color:var(--accent)] focus:ring-[color:var(--accent)]",checked:L.remember,onChange:r=>v(t=>({...t,remember:r.target.checked})),disabled:x||!n}),"–ó–∞–ø–æ–º–Ω–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ"]}),e.jsx("button",{type:"submit",disabled:x||!n,className:"flex w-full items-center justify-center gap-2 rounded-lg bg-[color:var(--accent)] px-4 py-2 text-sm font-semibold text-white shadow transition hover:opacity-95 disabled:cursor-not-allowed disabled:opacity-70",children:x?"–í—Ö–æ–¥...":"–í–æ–π—Ç–∏"}),e.jsx("p",{className:"text-[11px] uppercase tracking-[0.24em]",style:{color:"var(--text-2)"},children:"–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å? –ù–∞–ø–∏—à–∏—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –¥–ª—è —Å–±—Ä–æ—Å–∞."})]})]})})]})]}),e.jsxs("section",{className:`rounded-2xl border border-[color:var(--border)] bg-[color:var(--surface)] shadow-lg ${k?"":"opacity-75"}`,children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-[color:var(--border)] px-5 py-4",style:{background:"var(--bg-2)"},children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-[0.3em]",style:{color:"var(--text-2)"},children:[e.jsx(ge,{className:"h-4 w-4","aria-hidden":!0}),e.jsx("span",{children:"–ü—É–ª—å—Å —Å–º–µ–Ω—ã"})]}),e.jsx("span",{className:"rounded-full border border-[color:var(--accent)] px-3 py-1 text-[10px] uppercase tracking-[0.3em]",style:{color:"var(--accent)"},children:k?"LIVE":"LOCKED"})]}),k?e.jsxs("div",{className:"space-y-5 p-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-xl font-semibold tracking-tight",children:M.bannerTitle}),e.jsx("p",{className:"text-sm leading-relaxed",style:{color:"var(--text-2)"},children:M.bannerSubtitle})]}),e.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:Ue.map(r=>e.jsxs("div",{className:"rounded-lg border border-[color:var(--border)] bg-[color:var(--surface)]/90 px-4 py-3 shadow-sm",children:[e.jsx("div",{className:"text-xs uppercase tracking-[0.2em]",style:{color:"var(--text-2)"},children:r.label}),e.jsx("div",{className:"mt-2 text-2xl font-semibold",children:r.value}),e.jsx("div",{className:"text-xs",style:{color:"var(--text-2)"},children:r.hint})]},r.label))})]}):e.jsx("div",{className:"p-5 text-sm leading-relaxed",style:{color:"var(--text-2)"},children:"–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å, —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å –∂–∏–≤—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å–º–µ–Ω—ã, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ–≤–µ—Ä–∫–∞—Ö –∏ –æ—Ç—á—ë—Ç—ã —Å–ª—É–∂–±—ã –∫–æ–Ω—Ç—Ä–æ–ª—è."})]})]}),e.jsxs("div",{className:"rounded-2xl border border-[color:var(--border)] bg-[color:var(--surface)] p-5 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs uppercase tracking-[0.2em]",style:{color:"var(--text-2)"},children:[e.jsx("span",{children:"–°–ª—É–∂–µ–±–Ω—ã–π –∫–æ–Ω—Ç—É—Ä"}),e.jsx(_e,{className:"h-4 w-4","aria-hidden":!0})]}),e.jsxs("ul",{className:"mt-4 space-y-3 text-sm",children:[e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx(Ie,{className:"mt-0.5 h-4 w-4 text-[color:var(--accent)]","aria-hidden":!0}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:"–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–º–µ–Ω—ã"}),e.jsx("div",{style:{color:"var(--text-2)"},children:"–ü—Ä–æ—Å–ª–µ–¥–∏—Ç–µ, —á—Ç–æ–±—ã –≤—Å–µ –ø–æ—Å—Ç—ã –±—ã–ª–∏ –∑–∞–∫—Ä—ã—Ç—ã, –∏ –æ—Ç–º–µ—Ç—å—Ç–µ —Å–º–µ–Ω—ã –≤ –±—Ä–∏—Ñ–∏–Ω–≥–µ."})]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx(be,{className:"mt-0.5 h-4 w-4 text-[color:var(--accent)]","aria-hidden":!0}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:"–õ–∏–Ω–∏—è —Å–≤—è–∑–∏"}),e.jsx("div",{style:{color:"var(--text-2)"},children:"–í–µ–¥–∏—Ç–µ –æ—Ç—á—ë—Ç—ã –≤ —á–∞—Ç–µ, –æ—Ç–º–µ—á–∞–π—Ç–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ @ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Å—Ç–∞—Ç—É—Å—ã –æ–Ω–ª–∞–π–Ω."})]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx(me,{className:"mt-0.5 h-4 w-4 text-[color:var(--accent)]","aria-hidden":!0}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:"–ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞"}),e.jsx("div",{style:{color:"var(--text-2)"},children:"–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–æ—Ä–º—É –¥–æ–ø—É—Å–∫–∞ –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ ¬´–ü—Ä–∞–≤–∏–ª–∞¬ª, —á—Ç–æ–±—ã —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –¥–æ–ø—É—Å–∫–∏ –∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏."})]})]})]})]})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,2.2fr)_minmax(0,1fr)]",children:[e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("section",{className:"rounded-xl border border-[color:var(--border)] bg-[color:var(--surface)] shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-[color:var(--border)] px-5 py-3",style:{background:"var(--bg-2)"},children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-[0.3em]",style:{color:"var(--text-2)"},children:[e.jsx($e,{className:"h-4 w-4","aria-hidden":!0}),e.jsx("span",{children:"Announcements"})]}),k&&e.jsxs("span",{className:"text-xs uppercase tracking-[0.2em]",style:{color:"var(--text-2)"},children:[I.length," –∑–∞–ø–∏—Å–∏"]})]}),k?e.jsx("ul",{className:"divide-y divide-[color:var(--border)]",children:I.map(r=>e.jsxs("li",{className:"grid gap-3 px-5 py-4 md:grid-cols-[minmax(0,1fr)_200px]",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-base font-semibold",children:r.title}),r.pinned&&e.jsx("span",{className:"rounded-full border border-[color:var(--accent)] px-2 py-0.5 text-[10px] font-semibold uppercase tracking-[0.2em] text-[color:var(--accent)]",children:"PINNED"})]}),e.jsx("p",{className:"mt-1 text-sm leading-relaxed",style:{color:"var(--text-2)"},children:r.body})]}),e.jsxs("div",{className:"text-xs uppercase tracking-[0.2em]",style:{color:"var(--text-2)"},children:[e.jsx("div",{className:"font-semibold text-[color:var(--accent)]",children:r.author}),e.jsx("div",{children:r.timestamp})]})]},r.id))}):e.jsxs("div",{className:"flex flex-col items-center gap-3 px-5 py-12 text-center text-sm",style:{color:"var(--text-2)"},children:[e.jsx(ne,{className:"h-6 w-6 text-[color:var(--accent)]","aria-hidden":!0}),e.jsx("p",{children:"–§–æ—Ä—É–º –æ—Ç–∫—Ä—ã—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤. –ó–∞–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã —á–∏—Ç–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è."})]})]}),k?qe.map(r=>e.jsxs("section",{className:"overflow-hidden rounded-xl border border-[color:var(--border)] bg-[color:var(--surface)] shadow-lg",children:[e.jsxs("div",{className:"flex flex-col gap-1 border-b border-[color:var(--border)] px-5 py-4",style:{background:"var(--bg-2)"},children:[e.jsx("div",{className:"text-xs uppercase tracking-[0.3em]",style:{color:"var(--text-2)"},children:r.title}),e.jsx("div",{className:"text-sm",style:{color:"var(--text-2)"},children:r.description})]}),e.jsx("div",{className:"divide-y divide-[color:var(--border)]",children:r.boards.map(t=>e.jsxs("div",{className:"grid gap-4 px-5 py-4 md:grid-cols-[minmax(0,1.4fr)_120px_160px]",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs(ue,{to:t.href,className:"flex items-center gap-2 text-base font-semibold text-[color:var(--accent)] hover:underline",children:[t.title,e.jsx(Re,{className:"h-4 w-4","aria-hidden":!0})]}),e.jsx("p",{className:"text-sm leading-relaxed",style:{color:"var(--text-2)"},children:t.description})]}),e.jsxs("div",{className:"flex flex-col items-start justify-center gap-1 text-xs uppercase tracking-[0.2em]",style:{color:"var(--text-2)"},children:[e.jsxs("span",{children:[e.jsx("strong",{className:"text-base text-[color:var(--text-1)]",children:t.topics})," —Ç–µ–º—ã"]}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-base text-[color:var(--text-1)]",children:t.posts})," —Å–æ–æ–±—â–µ–Ω–∏–π"]}),t.pinned&&e.jsx("span",{className:"rounded-full border border-[color:var(--accent)] px-2 py-0.5 text-[10px] font-semibold text-[color:var(--accent)]",children:"HOT"})]}),e.jsxs("div",{className:"space-y-1 text-xs uppercase tracking-[0.18em]",style:{color:"var(--text-2)"},children:[e.jsx("div",{className:"font-semibold text-[color:var(--accent)]",children:t.last.author}),e.jsx("div",{children:t.last.time}),e.jsx("div",{className:"text-[color:var(--text-2)]",children:t.last.subject})]})]},t.id))})]},r.id)):e.jsxs("section",{className:"flex flex-col items-center justify-center gap-4 rounded-xl border border-[color:var(--border)] bg-[color:var(--surface)] py-16 text-center shadow-lg",children:[e.jsx(ne,{className:"h-7 w-7 text-[color:var(--accent)]","aria-hidden":!0}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"–î–æ—Å—Ç—É–ø –∫ —Ä–∞–∑–¥–µ–ª–∞–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω"}),e.jsx("p",{className:"px-6 text-sm",style:{color:"var(--text-2)"},children:"–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∏–ª–∏ –≤–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Ç–µ–º—ã, –æ—Ç–≤–µ—á–∞—Ç—å –≤ –≤–µ—Ç–∫–∞—Ö –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Ä–∞–±–æ—á–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã."})]})]})]}),e.jsxs("aside",{className:"flex flex-col gap-6",children:[e.jsxs("section",{className:"rounded-xl border border-[color:var(--border)] bg-[color:var(--surface)] shadow-lg",children:[e.jsx("div",{className:"border-b border-[color:var(--border)] px-4 py-3 text-xs uppercase tracking-[0.3em]",style:{background:"var(--bg-2)",color:"var(--text-2)"},children:"Live Chat"}),k?e.jsx("div",{className:"p-4",children:e.jsx(Ye,{className:""})}):e.jsxs("div",{className:"flex flex-col items-center gap-3 px-6 py-10 text-center text-sm",style:{color:"var(--text-2)"},children:[e.jsx(ne,{className:"h-6 w-6 text-[color:var(--accent)]","aria-hidden":!0}),e.jsx("p",{children:"–ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å, —á—Ç–æ–±—ã –≤–æ–π—Ç–∏ –≤ —Å–º–µ–Ω–Ω–æ–π —á–∞—Ç, –≤–∏–¥–µ—Ç—å –ø–∏–Ω–≥–∏ –∏ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è."})]})]}),e.jsxs("section",{className:"rounded-xl border border-[color:var(--border)] bg-[color:var(--surface)] shadow-lg",children:[e.jsx("div",{className:"border-b border-[color:var(--border)] px-4 py-3 text-xs uppercase tracking-[0.3em]",style:{background:"var(--bg-2)",color:"var(--text-2)"},children:"–í —Å–µ—Ç–∏"}),k?e.jsx("ul",{className:"divide-y divide-[color:var(--border)]",children:Ve.map(r=>e.jsxs("li",{className:"flex items-center justify-between gap-4 px-4 py-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",style:{color:r.color},children:r.name}),e.jsx("div",{className:"text-xs uppercase tracking-[0.2em]",style:{color:"var(--text-2)"},children:r.role})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-[0.18em]",style:{color:"var(--text-2)"},children:[e.jsx("span",{className:`h-2.5 w-2.5 rounded-full ${r.online?"bg-emerald-400 shadow-[0_0_8px_rgba(74,222,128,0.6)]":"bg-rose-500 shadow-[0_0_8px_rgba(244,63,94,0.45)]"}`,"aria-hidden":!0}),r.online?"online":"offline"]})]},r.name))}):e.jsxs("div",{className:"flex flex-col items-center gap-3 px-6 py-8 text-center text-sm",style:{color:"var(--text-2)"},children:[e.jsx(ne,{className:"h-5 w-5 text-[color:var(--accent)]","aria-hidden":!0}),e.jsx("p",{children:"–°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–º–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞."})]})]}),e.jsxs("section",{className:"rounded-xl border border-[color:var(--border)] bg-[color:var(--surface)] shadow-lg",children:[e.jsx("div",{className:"border-b border-[color:var(--border)] px-4 py-3 text-xs uppercase tracking-[0.3em]",style:{background:"var(--bg-2)",color:"var(--text-2)"},children:"–†–µ—Å—É—Ä—Å—ã"}),k?e.jsx("ul",{className:"divide-y divide-[color:var(--border)]",children:Ge.map(r=>e.jsx("li",{className:"px-4 py-3",children:e.jsxs(ue,{to:r.to,className:"flex flex-col gap-1 text-sm text-[color:var(--accent)] hover:underline",children:[e.jsx("span",{className:"font-semibold",children:r.label}),e.jsx("span",{className:"text-xs uppercase tracking-[0.18em]",style:{color:"var(--text-2)"},children:r.description})]})},r.label))}):e.jsxs("div",{className:"flex flex-col items-center gap-3 px-6 py-8 text-center text-sm",style:{color:"var(--text-2)"},children:[e.jsx(ne,{className:"h-5 w-5 text-[color:var(--accent)]","aria-hidden":!0}),e.jsx("p",{children:"–ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ—è–≤—è—Ç—Å—è –±—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ä–∞–±–æ—á–∏–µ –ø–∞–Ω–µ–ª–∏ –∏ API."})]})]})]})]})]}),K&&e.jsx("div",{className:"pointer-events-none fixed inset-0 z-40 flex items-end justify-end p-6",children:!z&&e.jsxs("button",{type:"button",className:"pointer-events-auto flex items-center gap-2 rounded-full border border-[color:var(--accent)] bg-[color:var(--surface)]/90 px-4 py-2 text-sm font-semibold text-[color:var(--accent)] shadow-lg backdrop-blur transition hover:bg-[color:var(--accent)]/15",onClick:()=>_(!0),children:[e.jsx(fe,{className:"h-4 w-4","aria-hidden":!0}),"–£–ø—Ä–∞–≤–ª—è—Ç—å –≥–ª–∞–≤–Ω–æ–π"]})}),K&&z&&e.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[e.jsx("div",{className:"hidden flex-1 bg-black/60 backdrop-blur-sm sm:block",onClick:()=>_(!1)}),e.jsxs("div",{className:"h-full w-full max-w-md border-l border-[color:var(--border)] bg-[color:var(--surface)] shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-[color:var(--border)] px-5 py-4",style:{background:"var(--bg-2)"},children:[e.jsx("div",{className:"text-xs uppercase tracking-[0.3em]",style:{color:"var(--text-2)"},children:"–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å"}),e.jsx("button",{type:"button",className:"rounded-md border border-[color:var(--border)] px-2 py-1 text-xs uppercase tracking-[0.2em] transition hover:border-[color:var(--accent)] hover:text-[color:var(--accent)]",onClick:()=>_(!1),children:"–ó–∞–∫—Ä—ã—Ç—å"})]}),e.jsx("div",{className:"h-full overflow-y-auto px-5 py-6",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs uppercase tracking-[0.2em]",style:{color:"var(--text-2)"},children:"–ó–∞–≥–æ–ª–æ–≤–æ–∫ –±–∞–Ω–Ω–µ—Ä–∞"}),e.jsx("input",{value:M.bannerTitle,onChange:r=>D(t=>({...t,bannerTitle:r.target.value})),className:"w-full rounded-lg border border-[color:var(--border)] bg-[color:var(--surface)] px-3 py-2 text-sm"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs uppercase tracking-[0.2em]",style:{color:"var(--text-2)"},children:"–ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫"}),e.jsx("textarea",{value:M.bannerSubtitle,onChange:r=>D(t=>({...t,bannerSubtitle:r.target.value})),rows:4,className:"w-full rounded-lg border border-[color:var(--border)] bg-[color:var(--surface)] px-3 py-2 text-sm"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-xs uppercase tracking-[0.2em]",style:{color:"var(--text-2)"},children:"–û–±—ä—è–≤–ª–µ–Ω–∏—è"}),e.jsx("button",{type:"button",className:"rounded-md border border-[color:var(--accent)] px-3 py-1 text-xs font-semibold uppercase tracking-[0.2em] text-[color:var(--accent)] transition hover:bg-[color:var(--accent)]/15",onClick:T,children:"–î–æ–±–∞–≤–∏—Ç—å"})]}),e.jsxs("div",{className:"space-y-4",children:[M.announcements.map((r,t)=>e.jsxs("div",{className:"rounded-lg border border-[color:var(--border)] bg-[color:var(--surface)] p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs uppercase tracking-[0.2em]",style:{color:"var(--text-2)"},children:[e.jsxs("span",{children:["#",t+1]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",className:"rounded border border-[color:var(--border)] px-2 py-0.5",onClick:()=>re(r.id,-1),disabled:t===0,children:"‚Üë"}),e.jsx("button",{type:"button",className:"rounded border border-[color:var(--border)] px-2 py-0.5",onClick:()=>re(r.id,1),disabled:t===M.announcements.length-1,children:"‚Üì"}),e.jsx("button",{type:"button",className:"rounded border border-[color:var(--border)] px-2 py-0.5 text-[color:#f87171]",onClick:()=>ce(r.id),children:"–£–¥–∞–ª–∏—Ç—å"})]})]}),e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsx("input",{value:r.title,onChange:c=>R(r.id,{title:c.target.value}),className:"w-full rounded-lg border border-[color:var(--border)] bg-[color:var(--surface)] px-3 py-2 text-sm font-semibold"}),e.jsx("textarea",{value:r.body,onChange:c=>R(r.id,{body:c.target.value}),rows:3,className:"w-full rounded-lg border border-[color:var(--border)] bg-[color:var(--surface)] px-3 py-2 text-sm"}),e.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[e.jsx("input",{value:r.author,onChange:c=>R(r.id,{author:c.target.value}),className:"w-full rounded-lg border border-[color:var(--border)] bg-[color:var(--surface)] px-3 py-2 text-sm",placeholder:"–ê–≤—Ç–æ—Ä"}),e.jsx("input",{value:r.timestamp,onChange:c=>R(r.id,{timestamp:c.target.value}),className:"w-full rounded-lg border border-[color:var(--border)] bg-[color:var(--surface)] px-3 py-2 text-sm",placeholder:"–í—Ä–µ–º—è"})]}),e.jsxs("label",{className:"flex items-center gap-2 text-xs uppercase tracking-[0.2em]",style:{color:"var(--text-2)"},children:[e.jsx("input",{type:"checkbox",checked:!!r.pinned,onChange:c=>R(r.id,{pinned:c.target.checked})}),"–ó–∞–∫—Ä–µ–ø–∏—Ç—å –≤–≤–µ—Ä—Ö—É"]})]})]},r.id)),M.announcements.length===0&&e.jsx("div",{className:"rounded-lg border border-dashed border-[color:var(--border)] p-4 text-sm",style:{color:"var(--text-2)"},children:"–ü–æ–∫–∞ –Ω–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–π. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤–æ–µ, —á—Ç–æ–±—ã –æ–Ω–æ –ø–æ—è–≤–∏–ª–æ—Å—å –≤ —Å–ø–∏—Å–∫–µ."})]})]})})]})]})]})}export{ar as default};
